<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-07-20 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140720" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Juffrou XML &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<link rel="author" href="http://plus.google.com/111660341923910322609"/>
                      
        
<link rel="shortcut icon" href="http://juffrou.sourceforge.net/favicon.ico"/>
                      
        
<script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			
			  ga('create', 'UA-36088259-2', 'sourceforge.net');
			  ga('send', 'pageview');</script>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://github.com/cemartins/juffrou/" id="bannerLeft">
                                                                                                <img src="../images/juffrou_extense.jpg"  alt="Juffrou" width="334" height="73"/>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                                <img src="../images/juffrou_text_new.jpg"  width="140" height="73"/>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../index.html" title="Juffrou">
        Juffrou</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="XML">
        XML</a>
                    <span class="divider">/</span>
      </li>
        <li class="active "></li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2014-07-20</li>
              <li id="projectVersion" class="pull-right">
                    Version: 2.1.8-SNAPSHOT
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Parent Project</li>
                              
      <li>
  
                          <a href="../index.html" title="Juffrou">
          <i class="none"></i>
        Juffrou</a>
            </li>
                              <li class="nav-header">Juffrou XML</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="xml-min-tutorial.html" title="Three minute tutorial">
          <i class="none"></i>
        Three minute tutorial</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Reference</a>
          </li>
                              <li class="nav-header">Project Documentation</li>
                              
      <li>
  
                          <a href="apidocs/index.html" title="Javadocs">
          <i class="none"></i>
        Javadocs</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://cemartins.github.io/juffrou/juffrou-xml" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/ceamartins" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow ceamartins</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="https://github.com/cemartins/juffrou" title="Powered by Github (click for project page)" class="builtBy">
        <img class="builtBy"  alt="Powered by Github (click for project page)" src="../images/GitHub_Logo_Small.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            
	<b>Juffrou-XML Reference Documentation</b>
	
	
		This document refers to version  of the Juffrou-XML.

<p>Copies of this document may be made for your own use and for distribution to others, provided
that you do not charge any fee for such copies and further provided that each copy contains this
Copyright Notice, whether distributed in print or electronically.</p>
		
			
				Carlos
				Martins
			
		
	
	
		<b>Getting Started with Juffrou-XML</b>
		
<div class="section">
			
<h2><a name="Introduction"></a>Introduction</h2>
			
<p>Juffrou-XML is an open source java library to marshall beans to xml and back. The objective is to make this simple, logical and flexible.</p>
			
<p>With Juffrou-XML you have simplified marshalling, wich means that you can obtain the XML representation of complex structure of java beans with all its nested beans represented as nested elements, but
			you can also get a &quot;flattened&quot; XML representation with properties from the root bean and properties from the nested beans in a very simple manner.</p>
			
<p>Enough talk! Let's see how it works:</p>
		</div>
		
<div class="section">
			
<h2><a name="Installing"></a>Installing</h2>
			
<div class="section">
				
<h3><a name="Maven_projects"></a>Maven projects</h3>
				
<p>To start using Juffrou-XML in your maven project just add the following dependency:
</p>
<div class="source">
<pre>
&lt;dependency&gt;
	&lt;groupId&gt;net.sf.juffrou&lt;/groupId&gt;
	&lt;artifactId&gt;juffrou-xml&lt;/artifactId&gt;
	&lt;version&gt;&lt;/version&gt;
&lt;/dependency&gt;
</pre></div>
This will allow you access the source code of the library as well as the javadoc files, if you have checked the options &quot;download artifact sources&quot; and &quot;download atifact javadoc in your IDE.&quot;
				
			</div>
			
<div class="section">
				
<h3><a name="Non_maven_projects"></a>Non maven projects</h3>
					
<p>Download the file <tt>juffrou--bundle.zip</tt> from the <a class="externalLink" href="http://juffrou.sourceforge.net"><i>website</i></a> and extract it's contents to a temporary directory.</p>
					
<p>Add <tt>juffrou-reflect-.jar</tt> and <tt>juffrou-xml-.jar</tt> to the classpath of your project and you are good to go.</p>
			</div>
			
<p>With these libraries in your classpath you can start using juffrou-XML right away:</p>

<h2><a name="Marshalling_a_java_bean:"></a>Marshalling a java bean:</h2>
	
<div class="source">
<pre>
	Person person = new Person();
	person.setFirstName(&quot;Carlos&quot;);
	person.setLastName(&quot;Martins&quot;);
	person.setBirthDay(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(&quot;1967-10-01&quot;));

	JuffrouXml juffrouXml = new JuffrouXml();
	String xmlString = juffrouXml.toXml(person);
	</pre></div>

<p>The output will be the following XML:</p>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;net.sf.juffrou.xml.test.dom.Person&gt;
	&lt;firstName&gt;Carlos&lt;/firstName&gt;
	&lt;lastName&gt;Martins&lt;/lastName&gt;
	&lt;birthDay&gt;10/1/67 12:00 AM&lt;/birthDay&gt;
&lt;/net.sf.juffrou.xml.test.dom.Person&gt;
</pre></div>


<p>Without configuration, the names of root elements will be the class name of the corresponding bean, all its 
properties will be marshalled and the names of the child elements will be the names of the corresponding property.
Juffrou-XML is also able to unmarshall the XML text back to a person bean as long as the classes in the 
root elements are in the program classpath like in the following example:</p>

<h2><a name="Unmarshalling_from_XML_to_Person:"></a>Unmarshalling from XML to Person:</h2>

<div class="source">
<pre>
	Person person = (Person) juffrouXml.fromXml(xmlString);
</pre></div>
		</div>
		
<div class="section">
			
<h2><a name="Configuring_Juffrou-XML"></a>Configuring Juffrou-XML</h2>
				
<p>If you want to change the element names of the beans or how those beans are marshalled / unmarshalled, then you need configuration. Configuration can be done either through direct coding or by means of an XML file.</p>
				
<p>To configure by file you can instantiate Juffrou-XML and pass the file name in the constructor, or you can instantiate Juffrou-XML with the default constructor and then call the readConfigFile method.</p>
				
<h2><a name="Configuring_Juffrou-XML:"></a>Configuring Juffrou-XML:</h2>

<div class="source">
<pre>
	JuffrouXml juffrouXml = new JuffrouXml(&quot;classpath:juffrou-config.xml&quot;);
	
	JuffrouXml juffrouXml = new JuffrouXml();
	juffrouXml.readConfigFile(&quot;classpath:config-file-one.xml&quot;);
	juffrouXml.readConfigFile(&quot;file:/etc/config-file-two.xml&quot;);
</pre></div>
		
<div class="section">
<h3><a name="Defining_root_element_names"></a>Defining root element names</h3>
		
<h3><a name="define_root_element_names_through_code"></a>define root element names through code</h3>

<div class="source">
<pre>
	JuffrouXml juffrouXml = new JuffrouXml();
	juffrouXml.registerRootElement(Person.class, &quot;Person&quot;);
</pre></div>
		
		
<h3><a name="Defining_root_element_in_configuration_file"></a>Defining root element in configuration file</h3>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mapping xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
	xmlns=&quot;http://juffrou.sourceforge.net/juffrou-xml&quot;
	xsi:schemaLocation=&quot;http://juffrou.sourceforge.net/juffrou-xml 
	http://juffrou.sourceforge.net/juffrou-xml/schemas/juffrou-xml.xsd&quot;&gt;

	&lt;root-element xml=&quot;Person&quot; type=&quot;net.sf.juffrou.xml.test.dom.Person&quot; /&gt;
	
&lt;/mapping&gt;
</pre></div>
		
		
<p>The corresponding XML now looks like this:</p>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;Person&gt;
	&lt;firstName&gt;Carlos&lt;/firstName&gt;
	&lt;lastName&gt;Martins&lt;/lastName&gt;
	&lt;birthDay&gt;10/1/67 12:00 AM&lt;/birthDay&gt;
&lt;/Person&gt;
</pre></div>
		</div>
		
		
<div class="section">
<h3><a name="Defining_element_names"></a>Defining element names</h3>
		
<h3><a name="define_element_names_through_code"></a>define element names through code</h3>

<div class="source">
<pre>
	JuffrouXml juffrouXml = new JuffrouXml();
	juffrouXml.registerElement(Person.class, &quot;lastName&quot;, &quot;Surname&quot;);
</pre></div>
		
		
<h3><a name="Defining_element_names_in_configuration_file"></a>Defining element names in configuration file</h3>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mapping xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
	xmlns=&quot;http://juffrou.sourceforge.net/juffrou-xml&quot;
	xsi:schemaLocation=&quot;http://juffrou.sourceforge.net/juffrou-xml 
	http://juffrou.sourceforge.net/juffrou-xml/schemas/juffrou-xml.xsd&quot;&gt;

	&lt;root-element xml=&quot;Person&quot; type=&quot;net.sf.juffrou.xml.test.dom.Person&quot;&gt;
		&lt;element property=&quot;firstName&quot; /&gt;
		&lt;element property=&quot;lastName&quot; xml=&quot;Surname&quot; /&gt;
		&lt;element property=&quot;birthDay&quot; /&gt;
	&lt;/root-element&gt;
	
&lt;/mapping&gt;
</pre></div>
		
		
<p>The corresponding XML now looks like this:</p>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;Person&gt;
	&lt;firstName&gt;Carlos&lt;/firstName&gt;
	&lt;Surname&gt;Martins&lt;/Surname&gt;
	&lt;birthDay&gt;10/1/67 12:00 AM&lt;/birthDay&gt;
&lt;/Person&gt;
</pre></div>
		
		</div>

		
<div class="section">
<h3><a name="Defining_attributes"></a>Defining attributes</h3>
		
<h3><a name="define_attributes_through_code"></a>define attributes through code</h3>

<div class="source">
<pre>
	JuffrouXml juffrouXml = new JuffrouXml();
	juffrouXml.registerAttribute(Person.class, &quot;firstName&quot;, &quot;name&quot;);
</pre></div>
		
		
<h3><a name="Defining_attributes_in_configuration_file"></a>Defining attributes in configuration file</h3>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mapping xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
	xmlns=&quot;http://juffrou.sourceforge.net/juffrou-xml&quot;
	xsi:schemaLocation=&quot;http://juffrou.sourceforge.net/juffrou-xml 
	http://juffrou.sourceforge.net/juffrou-xml/schemas/juffrou-xml.xsd&quot;&gt;

	&lt;root-element xml=&quot;Person&quot; type=&quot;net.sf.juffrou.xml.test.dom.Person&quot;&gt;
		&lt;attribute property=&quot;firstName&quot; xml=&quot;name&quot; /&gt;
		&lt;element property=&quot;lastName&quot; xml=&quot;Surname&quot; /&gt;
		&lt;element property=&quot;birthDay&quot; /&gt;
	&lt;/root-element&gt;
	
&lt;/mapping&gt;
</pre></div>
		
		
<p>The corresponding XML now looks like this:</p>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;Person name=&quot;Carlos&quot;&gt;
	&lt;Surname&gt;Martins&lt;/Surname&gt;
	&lt;birthDay&gt;10/1/67 12:00 AM&lt;/birthDay&gt;
&lt;/Person&gt;
</pre></div>

		</div>

		</div>
	
	
		<b>More Advanced Stuff</b>
		
<div class="section">
			
<h2><a name="Serializers"></a>Serializers</h2>
			
<p>Serializers are the classes responsible for translating bean property values to XML and back. Juffrou-xml comes with serializers for the basic java types, like <tt>String</tt>, <tt>Integer</tt> and <tt>Boolean</tt> for instance. You can see the complete list of serializers in the javadoc for the package net.sf.juffrou.xml.serializer.</p>
			
<p>You may want to create your own serializers and tell juffrou to use them. For intance, you may want to have properties of type <tt>Date</tt> displayed in a particular format, so you create a serailizer that knows how to convert between <tt>Date</tt> and that specific format.
			You can also use serializers to convert between the text in an XML element and a more complex type. For example, in a class called <tt>Person</tt>, with a property <tt>private Address home</tt> you may want to represent <tt>home</tt> as a single text string. In this case you create a serializer that knows how to convert between <tt>Address</tt> and that text string.
			</p>
			
<p>Creating your own serializer is simple. Just implement the <b>Serializer</b> interface like in the following example:</p>

<div class="source">
<pre>
public class SimpleDateSerializer implements Serializer {

	private final SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);
	
	@Override
	public void serialize(JuffrouWriter writer, BeanWrapper valueOwner, 
			String valuePropertyName) {
		writer.write(formatter.format((Date)valueOwner.getValue(valuePropertyName)));
	}

	@Override
	public void deserialize(JuffrouReader reader, BeanWrapper valueOwner, 
			String valuePropertyName) {
		String value = reader.getText();
		try {
			valueOwner.setValue(valuePropertyName, formatter.parse(value));
		} catch (ParseException e) {
		}
	}
}
</pre></div>
		
<p>Once your serializer class is created, you can use it to translate your beans or bean properties using by configuring through code or mapping file.</p>
		
<h2><a name="using_serializers_through_code"></a>using serializers through code</h2>

<div class="source">
<pre>
	JuffrouXml juffrouXml = new JuffrouXml();
	juffrouXml.registerSerializer(&quot;mySimpleDateSerializer&quot;, new SimpleDateSerializer());
	juffrouXml.registerElement(Person.class, &quot;birthDay&quot;, &quot;birthday&quot;, &quot;mySimpleDateSerializer&quot;);
</pre></div>
		
		
<h2><a name="using_serializers_through_configuration_file"></a>using serializers through configuration file</h2>
		
<p>When using a configuration file you can define reusable serializers to share between bean properties or define a serializer that is exlusive to a perticular bean property.</p>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mapping xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; 
	xmlns=&quot;http://juffrou.sourceforge.net/juffrou-xml&quot;
	xsi:schemaLocation=&quot;http://juffrou.sourceforge.net/juffrou-xml 
	http://juffrou.sourceforge.net/juffrou-xml/schemas/juffrou-xml.xsd&quot;&gt;

	&lt;serializer id=&quot;mySimpleDateSerializer&quot; 
		class=&quot;net.sf.juffrou.xml.test.dom.SimpleDateSerializer&quot;/&gt;
	
	&lt;root-element xml=&quot;Person&quot; type=&quot;net.sf.juffrou.xml.test.dom.Person&quot;&gt;
		&lt;attribute property=&quot;firstName&quot; xml=&quot;name&quot; /&gt;
		&lt;element property=&quot;lastName&quot; xml=&quot;Surname&quot;&gt;
			&lt;serializer class=&quot;net.sf.juffrou.xml.serializer.StringSerializer&quot;/&gt;
		&lt;/element&gt;
		&lt;element property=&quot;birthDay&quot; xml=&quot;birthday&quot;&gt;
			&lt;serializer ref=&quot;mySimpleDateSerializer&quot;/&gt;
		&lt;/element&gt;
	&lt;/root-element&gt;
	
&lt;/mapping&gt;
</pre></div>
		

		
<p>You can define serializers to share between bean properties with <tt>serializer</tt> element in the mapping file:</p>

<div class="source">
<pre>
	&lt;serializer id=&quot;mySimpleDateSerializer&quot;  
		class=&quot;net.sf.juffrou.xml.test.dom.SimpleDateSerializer&quot;/&gt;  
</pre></div>

  
    
<p>Id of the serializer to be referenced by the bean property serializers.</p>
  
  
    
<p>Class name of the serializer. This class will be instantiated only once and will be shared between the bean properties that reference it.</p>
  


		
<p>You can define a serializer for a bean property by nesting a <tt>serializer</tt> element like in the above example. Below are all the properties for a property serializer:</p>

<div class="source">
<pre>
	&lt;serializer 
		class=&quot;net.sf.juffrou.xml.test.dom.SimpleDateSerializer&quot;   
		ref=&quot;mySimpleDateSerializer&quot;   
		bean=&quot;mySpringBeanSerializer&quot; /&gt;  
</pre></div>

  
    
<p>Class name of the specific serializer class to use. This class will be instantiated and used exclusively for the bean property.</p>
  
  
    
<p>Id of the shared serializer.</p>
  
  
    
<p>Id of a springframework bean which implements <tt>serializer</tt>. This is only valid when using the library <tt>juffrou-xml-spring</tt></p>
  

			
		</div>
		
<div class="section">
			
<h2><a name="Simplified_Marshalling"></a>Simplified Marshalling</h2>

<p>Simplified marshalling is the possibility of marshalling nested beans into a &quot;flat&quot; XML structure like this: imagine that you don't want the whole home address marshalled for this person. You only want his home city 
and you want it displayed as it were a simple property of person.</p>

<p>Easy! All you have to do is this:</p>

<div class="source">
<pre>
	JuffrouXml juffrouXml = new JuffrouXml();
	juffrouXml.registerRootElement(Person.class, &quot;Person&quot;);
	juffrouXml.registerElement(Person.class, &quot;home.city&quot;, &quot;homeTown&quot;, null);
	String xmlString = juffrouXml.toXml(person);
</pre></div>

<p>The output will now be:</p>

<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;Person&gt;
  &lt;firstName&gt;Carlos&lt;/firstName&gt;
  &lt;lastName&gt;Martins&lt;/lastName&gt;
  &lt;birthDay&gt;1967-10-01&lt;/birthDay&gt;
  &lt;homeTown&gt;Lisboa&lt;/homeTown&gt;
&lt;/Person&gt;
</pre></div>

<p>Of course this XML will also be unmarshalled back to a person object. That person object will have a home with city Lisboa.</p>
		</div>
	

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2011&#x2013;2014
                        <a href="http://martins.dtdns.net/~cemartins">Carlos Martins</a>.
            All rights reserved.      
                    
      </p>
        </div>

                          
        
                </div>
    </footer>
        </body>
</html>
